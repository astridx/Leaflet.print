<!doctype html>
<html>
  <head>
    <title>Leaflet Printing</title>
    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.6.3/leaflet.css"/>
    <link rel="stylesheet" href="../dist/leaflet.print.css"/>
  </head>
  <body>
    <div id="map" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></div>
    <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
    <script src="http://cdn.leafletjs.com/leaflet-0.7.2/leaflet.js"></script>
    <script src="../dist/leaflet.print.js"></script>
    <script>
	  var printConfig = {"scales":[{"name":"1:25.000","value":"25000.0"},{"name":"1:50.000","value":"50000.0"},{"name":"1:100.000","value":"100000.0"},{"name":"1:200.000","value":"200000.0"},{"name":"1:500.000","value":"500000.0"},{"name":"1:1.000.000","value":"1000000.0"},{"name":"1:2.000.000","value":"2000000.0"},{"name":"1:4.000.000","value":"4000000.0"}],"dpis":[{"name":"75","value":"75"},{"name":"150","value":"150"},{"name":"300","value":"300"}],"outputFormats":[{"name":"pdf"}],"layouts":[{"name":"A4 portrait","map":{"width":440,"height":483},"rotation":true},{"name":"Legal","map":{"width":440,"height":483},"rotation":false}],"printURL":"http://172.16.206.128:8080/geoserver/pdf/print.pdf","createURL":"http://172.16.206.128:8080/geoserver/pdf/create.json"};
      var map,
	      printProvider,
	      printControl,
	      ll = new L.LatLng(-36.852668, 174.762675);

	  map = L.map('map', {
	      center: ll,
	      zoom: 15
	  });

	  L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
		  attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
	  }).addTo(map);

	  L.marker(ll).addTo(map);

	  // Create the print provider, subscribing to print events
	  printProvider = L.print.provider({
          capabilities: printConfig,
          method: 'GET',
		  dpi: 300,
		  outputFormat: 'pdf',
		  customParams: {
			  mapTitle: 'Print Test',
			  comment: 'Testing Leaflet printing'
		  }
	  });

	  // Create a print control with the configured provider and add to the map
	  printControl = L.control.print({
		  provider: printProvider
	  });

	  map.addControl(printControl);
    </script>
  </body>
</html>
